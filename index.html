<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qry.js - Ultra-lightweight DOM Manipulation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <link rel="icon" type="image/svg+xml" href="https://cdn.jsdelivr.net/gh/Bloechle/qry@latest/svg/qry-logo-white.svg">
    <style>
        :root {
            --pico-primary: #005395;
            --pico-border-radius: 1rem;
            --pico-form-element-spacing-vertical: 0.5rem;
            --pico-form-element-spacing-horizontal: 1rem;
        }
        header { background: var(--pico-primary); color: white; padding: 2rem 0; text-align: center; }
        header h1 { color: white; margin: 0; }
        header p { color: rgba(255,255,255,0.8); margin: 0.5rem 0 0; }
        .output { background: var(--pico-muted-border-color); padding: 0.75rem 1rem; border-radius: 1rem; font-family: monospace; min-height: 2rem; margin-top: 0.75rem; }
        .demo-box { padding: 1rem; border: 2px dashed var(--pico-muted-border-color); border-radius: 1rem; margin-top: 0.75rem; transition: all 0.3s; }
        .nav-item { display: inline-block; padding: 0.4rem 0.8rem; background: var(--pico-muted-border-color); border-radius: 0.75rem; margin: 0.2rem; transition: all 0.3s; }
        .nav-item.current { background: var(--pico-primary); color: white; }
        .nav-item.highlight { background: #fbbf24; color: black; outline: 2px solid #f59e0b; }
        .status { font-size: 0.8rem; color: var(--pico-muted-color); font-family: monospace; margin-top: 0.4rem; }
        .grid-buttons { display: flex; flex-wrap: wrap; gap: 0.4rem; }
        .grid-buttons button { margin: 0; padding: 0.5rem 1rem; }
        .features { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 0.75rem; }
        .feature { text-align: center; padding: 1rem; background: var(--pico-card-background-color); border-radius: 1rem; border: 1px solid var(--pico-muted-border-color); }
        .feature strong { display: block; margin-top: 0.5rem; }
        .feature small { color: var(--pico-muted-color); }
        pre { border-radius: 1rem; margin-top: 0.75rem; }
        pre code { font-size: 0.8rem; }
        footer { text-align: center; padding: 1.5rem; }
        article { margin-bottom: 1.5rem; padding: 1.25rem; }
        article h3 { margin-bottom: 0.75rem; }
        button.danger { background: #dc2626; border-color: #dc2626; }
        button.danger:hover { background: #b91c1c; border-color: #b91c1c; }
        input { padding: 0.5rem 1rem; }
    </style>
</head>

<body>

<header>
    <h1>âš¡ Qry.js</h1>
    <p>Ultra-lightweight DOM manipulation library</p>
</header>

<main class="container">

    <!-- Content -->
    <article>
        <h3>Content</h3>
        <div class="grid-buttons">
            <button id="btn-text">text()</button>
            <button id="btn-html">html()</button>
            <button id="btn-empty" class="danger">empty()</button>
        </div>
        <div id="output" class="output">Original content here</div>
    </article>

    <!-- Classes -->
    <article>
        <h3>CSS Classes</h3>
        <div class="grid-buttons">
            <button id="btn-add">+add</button>
            <button id="btn-remove" class="danger">-remove</button>
            <button id="btn-toggle">~toggle</button>
            <button id="btn-check" class="secondary">?check</button>
        </div>
        <div id="target" class="demo-box">Target element for class manipulation</div>
        <div id="class-status" class="status"></div>
    </article>

    <!-- Form -->
    <article>
        <h3>Form Values</h3>
        <div class="grid">
            <input type="text" id="input" value="Hello Qry!">
            <button id="btn-get">val()</button>
            <button id="btn-set">val(random)</button>
        </div>
        <div id="value-out" class="output">Click to get/set value</div>
    </article>

    <!-- Creation -->
    <article>
        <h3>Element Creation</h3>
        <div class="grid-buttons">
            <button id="btn-create">$.create()</button>
            <button id="btn-clone">clone()</button>
            <button id="btn-clear" class="danger">Clear</button>
        </div>
        <div id="container" class="demo-box">Elements appear here</div>
    </article>

    <!-- Navigation -->
    <article>
        <h3>Navigation</h3>
        <div class="grid-buttons">
            <button id="btn-prev">prev()</button>
            <button id="btn-next">next()</button>
            <button id="btn-siblings">siblings()</button>
            <button id="btn-parent">parent()</button>
            <button id="btn-children">children()</button>
            <button id="btn-eq">eq(2)</button>
            <button id="btn-first">first()</button>
            <button id="btn-last">last()</button>
        </div>
        <div id="nav-list" class="demo-box">
            <span class="nav-item">Item 0</span>
            <span class="nav-item">Item 1</span>
            <span class="nav-item current" id="nav-current">Item 2</span>
            <span class="nav-item">Item 3</span>
            <span class="nav-item">Item 4</span>
        </div>
        <div id="nav-status" class="status"></div>
    </article>

    <!-- Utilities -->
    <article>
        <h3>Utilities</h3>
        <div class="grid-buttons">
            <button id="btn-is">is()</button>
            <button id="btn-filter">filter()</button>
            <button id="btn-index">index()</button>
            <button id="btn-wrap">wrap()</button>
            <button id="btn-replace" class="danger">replaceWith()</button>
            <button id="btn-offset">offset()</button>
        </div>
        <div id="util-box" class="demo-box">
            <span id="util-target" style="display:inline-block;padding:0.5rem 1rem;background:var(--pico-primary);color:white;border-radius:0.75rem;">Target Element</span>
        </div>
        <div id="util-status" class="status"></div>
    </article>

    <!-- Chaining -->
    <article>
        <h3>Method Chaining</h3>
        <div class="grid-buttons">
            <button id="btn-chain">Run Chain</button>
            <button id="btn-reset">Reset</button>
        </div>
        <div id="chain-box" class="demo-box">Chaining demo area</div>
        <pre><code>$('#box').cls('+active').css({background:'#005395'}).text('Chained!')</code></pre>
    </article>

    <!-- Features -->
    <article>
        <h3>Features</h3>
        <div class="features">
            <div class="feature">
                <span>ðŸª¶</span>
                <strong>~3KB</strong>
                <small>minified</small>
            </div>
            <div class="feature">
                <span>âš¡</span>
                <strong>Fast</strong>
                <small>direct DOM</small>
            </div>
            <div class="feature">
                <span>ðŸ”—</span>
                <strong>Chainable</strong>
                <small>fluent API</small>
            </div>
            <div class="feature">
                <span>ðŸ“¦</span>
                <strong>Zero deps</strong>
                <small>standalone</small>
            </div>
        </div>
    </article>

</main>

<footer>
    <a href="https://github.com/Bloechle/qry">GitHub</a> â€¢
    <small>Qry.js - Ultra-lightweight DOM manipulation</small>
</footer>

<script type="module">
    import $ from './Qry.js';

    let count = 0;

    // Content
    $('#btn-text').click(() => $('#output').text('Text set at ' + new Date().toLocaleTimeString()));
    $('#btn-html').click(() => $('#output').html('<strong>Bold</strong> and <em>italic</em> text'));
    $('#btn-empty').click(() => $('#output').empty());

    // Classes
    $('#btn-add').click(() => {
        $('#target').css({ background: '#dcfce7', borderColor: '#22c55e' });
        $('#class-status').text('Added green styling');
    });
    $('#btn-remove').click(() => {
        $('#target').css({ background: '', borderColor: '' });
        $('#class-status').text('Removed styling');
    });
    $('#btn-toggle').click(() => {
        const current = $('#target').css('background');
        $('#target').css({ background: current ? '' : '#dbeafe', borderColor: current ? '' : '#3b82f6' });
        $('#class-status').text('Toggled blue styling');
    });
    $('#btn-check').click(() => {
        const bg = $('#target').css('backgroundColor');
        $('#class-status').text('Background: ' + bg);
    });

    // Form
    $('#btn-get').click(() => $('#value-out').text('Value: "' + $('#input').val() + '"'));
    $('#btn-set').click(() => {
        const v = 'Random: ' + Math.floor(Math.random() * 1000);
        $('#input').val(v);
        $('#value-out').text('Set to: "' + v + '"');
    });

    // Creation
    $('#btn-create').click(() => {
        $.create('kbd', { text: `Item ${++count}` })
            .css({ margin: '0.2rem', display: 'inline-block', borderRadius: '0.5rem' })
            .mount('#container');
    });
    $('#btn-clone').click(() => {
        const last = $('#container').find('kbd').last();
        if (last.exists) {
            last.clone().text('Clone ' + (++count)).mount('#container');
        }
    });
    $('#btn-clear').click(() => {
        $('#container').html('Elements appear here');
        count = 0;
    });

    // Navigation
    const highlight = (el, msg) => {
        $('.nav-item').cls('-highlight');
        if (el.exists) el.cls('+highlight');
        $('#nav-status').text(msg + (el.exists ? ' â†’ ' + el.text() : ' â†’ not found'));
    };

    $('#btn-prev').click(() => highlight($('#nav-current').prev(), 'prev()'));
    $('#btn-next').click(() => highlight($('#nav-current').next(), 'next()'));
    $('#btn-siblings').click(() => {
        const sibs = $('#nav-current').siblings();
        sibs.cls('+highlight');
        $('#nav-status').text('siblings() â†’ ' + sibs.length + ' elements');
    });
    $('#btn-parent').click(() => highlight($('#nav-current').parent(), 'parent()'));
    $('#btn-children').click(() => {
        const kids = $('#nav-list').children();
        $('#nav-status').text('children() â†’ ' + kids.length + ' elements');
    });
    $('#btn-eq').click(() => highlight($('.nav-item').eq(2), 'eq(2)'));
    $('#btn-first').click(() => highlight($('.nav-item').first(), 'first()'));
    $('#btn-last').click(() => highlight($('.nav-item').last(), 'last()'));

    // Utilities
    $('#btn-is').click(() => {
        const is = $('#util-target').is('span');
        $('#util-status').text("is('span') â†’ " + is);
    });
    $('#btn-filter').click(() => {
        const filtered = $('.nav-item').filter('.current');
        $('#util-status').text('filter(.current) â†’ ' + filtered.length + ' element(s)');
    });
    $('#btn-index').click(() => {
        const idx = $('#nav-current').index();
        $('#util-status').text('index() â†’ ' + idx);
    });
    $('#btn-wrap').click(() => {
        $('#util-target').wrap('<mark></mark>');
        $('#util-status').text('wrap() â†’ wrapped in <mark>');
    });
    $('#btn-replace').click(() => {
        $('#util-target').replaceWith('<span id="util-target" style="display:inline-block;padding:0.5rem 1rem;background:#dc2626;color:white;border-radius:0.75rem;">Replaced!</span>');
        $('#util-status').text('replaceWith() â†’ element replaced');
    });
    $('#btn-offset').click(() => {
        const pos = $('#util-target').offset();
        $('#util-status').text('offset() â†’ top: ' + Math.round(pos.top) + ', left: ' + Math.round(pos.left));
    });

    // Chaining
    $('#btn-chain').click(() => {
        $('#chain-box')
            .css({ background: 'var(--pico-primary)', color: 'white', transform: 'scale(1.02)' })
            .text('Chained at ' + new Date().toLocaleTimeString());
    });
    $('#btn-reset').click(() => {
        $('#chain-box')
            .css({ background: '', color: '', transform: '' })
            .text('Chaining demo area');
    });
</script>

</body>
</html>