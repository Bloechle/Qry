<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qry.js</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        unifr: "#005395",
                        dark: {
                            100: "#0a0a0b",
                            200: "#1a1a1b",
                            300: "#2d2d30",
                            400: "#3e3e42",
                            500: "#52525b"
                        }
                    }
                }
            }
        }
    </script>

    <style type="text/tailwindcss">
        @layer components {
            .btn {
                @apply inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 font-medium;
            }
            .btn-primary {
                @apply bg-unifr hover:bg-unifr/90 text-white focus:ring-2 focus:ring-unifr/50 focus:ring-offset-2 focus:ring-offset-dark-100;
            }
            .btn-secondary {
                @apply bg-dark-300 hover:bg-dark-400 text-gray-100 focus:ring-2 focus:ring-gray-500/50 focus:ring-offset-2 focus:ring-offset-dark-100;
            }
            .btn-danger {
                @apply bg-red-600/20 hover:bg-red-600/30 text-red-400 focus:ring-2 focus:ring-red-500/50 focus:ring-offset-2 focus:ring-offset-dark-100;
            }
            .btn-sm { @apply px-3 py-1.5 text-sm; }

            .card {
                @apply bg-dark-200 border border-dark-300 rounded-xl p-6 shadow-lg;
            }
            .section-title {
                @apply text-lg font-semibold text-gray-100 mb-4;
            }
            .output {
                @apply bg-dark-300 border border-dark-400 rounded-lg p-4 font-mono text-sm text-gray-300;
            }
            .input {
                @apply px-3 py-2 bg-dark-300 border border-dark-400 rounded-lg text-gray-100 placeholder-gray-500 focus:ring-2 focus:ring-unifr/50 focus:border-unifr/50 focus:ring-offset-0;
            }
        }
    </style>

    <!-- Lucide Icons -->
    <script defer src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body class="bg-dark-100 text-gray-100 min-h-screen antialiased">
<div class="max-w-4xl mx-auto p-6 space-y-8">

    <!-- Header -->
    <header class="text-center py-8">
        <h1 class="text-4xl font-light text-gray-100 mb-2">Qry.js</h1>
        <p class="text-gray-400 text-lg">Ultra-lightweight DOM manipulation</p>
    </header>

    <!-- Content & HTML -->
    <section class="card">
        <h2 class="section-title">Content Manipulation</h2>

        <div class="flex gap-3 mb-6">
            <button id="btn-text" class="btn btn-primary">
                Change Text
            </button>
            <button id="btn-html" class="btn btn-secondary">
                Set HTML
            </button>
        </div>

        <div id="output" class="output">
            Original content will appear here
        </div>
    </section>

    <!-- Class Management -->
    <section class="card">
        <h2 class="section-title">Class Operations</h2>

        <div class="flex gap-2 mb-6 flex-wrap">
            <button id="btn-add" class="btn btn-secondary btn-sm">
                Add Class
            </button>
            <button id="btn-remove" class="btn btn-danger btn-sm">
                Remove Class
            </button>
            <button id="btn-toggle" class="btn btn-secondary btn-sm">
                Toggle Class
            </button>
            <button id="btn-check" class="btn btn-secondary btn-sm">
                Check Class
            </button>
        </div>

        <div id="target" class="output border-2 border-dashed transition-all duration-300">
            Target element for class manipulation
        </div>

        <div id="class-status" class="mt-3 text-sm text-gray-500 font-mono"></div>
    </section>

    <!-- Form Handling -->
    <section class="card">
        <h2 class="section-title">Form Values</h2>

        <div class="flex gap-3 items-center mb-6">
            <input id="input" type="text" value="Hello Qry!" class="input flex-1">
            <button id="btn-get" class="btn btn-primary">
                Get Value
            </button>
            <button id="btn-set" class="btn btn-secondary">
                Set Random
            </button>
        </div>

        <div id="value-out" class="output min-h-[3rem] flex items-center"></div>
    </section>

    <!-- Element Creation -->
    <section class="card">
        <h2 class="section-title">Dynamic Creation</h2>

        <div class="flex gap-3 mb-6">
            <button id="btn-create" class="btn btn-primary">
                Create Element
            </button>
            <button id="btn-clear" class="btn btn-danger">
                Clear All
            </button>
        </div>

        <div id="container" class="min-h-24 p-4 border-2 border-dashed border-dark-400 rounded-lg bg-dark-300/30 space-y-2">
            <div class="text-gray-500 text-center py-8">Dynamic elements will appear here</div>
        </div>
    </section>

    <!-- Advanced Features -->
    <section class="card">
        <h2 class="section-title">Advanced Operations</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <button id="btn-chain" class="btn btn-primary justify-center">
                Method Chaining
            </button>
            <button id="btn-animate" class="btn btn-secondary justify-center">
                CSS Animation
            </button>
        </div>

        <div id="demo-area" class="p-8 bg-dark-300 rounded-lg border border-dark-400 text-center">
            <div class="text-gray-400">Demonstration area</div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center py-8 text-gray-500 text-sm">
        <p>Powered by Qry.js • Ultra-lightweight DOM manipulation</p>
    </footer>
</div>

<script type="module">
    import $ from './Qry.js';

    let count = 0;

    // Initialize
    $.ready(() => {
        if (window.lucide) {
            window.lucide.createIcons();
        }
    });

    // Content tests
    $('#btn-text').click(() =>
        $('#output').text('Text updated at ' + new Date().toLocaleTimeString())
    );

    $('#btn-html').click(() =>
        $('#output').html('<strong class="text-unifr">Formatted HTML</strong> with <em class="text-gray-300">styling</em>')
    );

    // Class operations
    $('#btn-add').click(() => {
        $('#target').cls('+border-unifr +bg-unifr/10');
        $('#class-status').text('Added: border-unifr, bg-unifr/10');
    });

    $('#btn-remove').click(() => {
        $('#target').cls('-border-unifr -bg-unifr/10');
        $('#class-status').text('Removed: border-unifr, bg-unifr/10');
    });

    $('#btn-toggle').click(() => {
        $('#target').cls('~border-unifr ~bg-unifr/10');
        $('#class-status').text('Toggled: border-unifr, bg-unifr/10');
    });

    $('#btn-check').click(() => {
        const hasClass = $('#target').cls('?border-unifr');
        $('#class-status').text(`Has border-unifr: ${hasClass}`);
    });

    // Form operations
    $('#btn-get').click(() =>
        $('#value-out').text('Current: "' + $('#input').val() + '"')
    );

    $('#btn-set').click(() => {
        const random = 'Value: ' + Math.floor(Math.random() * 1000);
        $('#input').val(random);
        $('#value-out').text('Set to: "' + random + '"');
    });

    // Element creation
    $('#btn-create').click(() => {
        const card = $.create('div', {
            text: `Element ${++count} • ${new Date().toLocaleTimeString()}`,
            class: 'bg-dark-200 border border-dark-400 rounded-lg p-4 text-gray-300 shadow-sm'
        });
        $('#container').append(card);
    });

    $('#btn-clear').click(() => {
        $('#container').html('<div class="text-gray-500 text-center py-8">Dynamic elements will appear here</div>');
        count = 0;
    });

    // Advanced features
    $('#btn-chain').click(() => {
        $('#demo-area')
            .html('<div class="font-semibold text-unifr">Method chaining demonstration</div>')
            .css({
                transform: 'scale(1.02)',
                transition: 'all 0.3s ease',
                backgroundColor: 'rgba(0, 83, 149, 0.1)'
            });

        setTimeout(() => {
            $('#demo-area')
                .css({ transform: '', backgroundColor: '' })
                .html('<div class="text-gray-400">Demonstration area</div>');
        }, 2000);
    });

    $('#btn-animate').click(() => {
        $('#demo-area')
            .html('<div class="text-gray-300 font-medium">CSS Animation Active</div>')
            .css({
                animation: 'pulse 1s ease-in-out infinite',
                backgroundColor: 'rgba(34, 197, 94, 0.1)'
            });

        setTimeout(() => {
            $('#demo-area')
                .css({ animation: '', backgroundColor: '' })
                .html('<div class="text-gray-400">Demonstration area</div>');
        }, 3000);
    });

</script>
</body>
</html>