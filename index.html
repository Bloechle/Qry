<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qry Test</title>
    <style>
        body { font-family: system-ui; max-width: 600px; margin: 2rem auto; padding: 1rem; }
        button { padding: 8px 16px; margin: 4px; border: none; background: #007acc; color: white; border-radius: 4px; cursor: pointer; }
        button:hover { background: #005999; }
        .test { margin: 1rem 0; padding: 1rem; border: 1px solid #ddd; border-radius: 4px; }
        .output { background: #f5f5f5; padding: 8px; margin: 8px 0; border-radius: 4px; font-family: monospace; }
        .highlight { background: yellow !important; }
        input { padding: 8px; border: 1px solid #ddd; border-radius: 4px; margin: 4px; }
    </style>
</head>
<body>
<h1>Qry.js Test</h1>

<div class="test">
    <h3>Text & HTML</h3>
    <button id="btn-text">Change Text</button>
    <button id="btn-html">Set HTML</button>
    <div class="output" id="output">Original content</div>
</div>

<div class="test">
    <h3>Classes</h3>
    <button id="btn-add">Add</button>
    <button id="btn-remove">Remove</button>
    <button id="btn-toggle">Toggle</button>
    <div class="output" id="target">Target Element</div>
</div>

<div class="test">
    <h3>Form Values</h3>
    <input id="input" value="Hello" type="text">
    <button id="btn-get">Get Value</button>
    <button id="btn-set">Set Random</button>
    <div class="output" id="value-out"></div>
</div>

<div class="test">
    <h3>Create Elements</h3>
    <button id="btn-create">Create Card</button>
    <button id="btn-clear">Clear</button>
    <div id="container" class="output">Cards appear here...</div>
</div>

<script type="module">
    import qry from './qry.js';

    let count = 0;

    // Text tests
    qry.$('#btn-text').click(() =>
        qry.$('#output').text('Text changed at ' + new Date().toLocaleTimeString())
    );

    qry.$('#btn-html').click(() =>
        qry.$('#output').html('<strong>HTML</strong> with <em>formatting</em>')
    );

    // Class tests
    qry.$('#btn-add').click(() => qry.$('#target').cls('+highlight'));
    qry.$('#btn-remove').click(() => qry.$('#target').cls('-highlight'));
    qry.$('#btn-toggle').click(() => qry.$('#target').cls('~highlight'));

    // Form tests
    qry.$('#btn-get').click(() =>
        qry.$('#value-out').text('Value: "' + qry.$('#input').val() + '"')
    );

    qry.$('#btn-set').click(() => {
        const random = 'Random: ' + Math.floor(Math.random() * 100);
        qry.$('#input').val(random);
        qry.$('#value-out').text('Set to: "' + random + '"');
    });

    // Creation tests
    qry.$('#btn-create').click(() => {
        const card = qry.create('div', {
            text: `Card ${++count}`,
            class: 'output'
        });
        qry.$('#container').append(card);
    });

    qry.$('#btn-clear').click(() => {
        qry.$('#container').html('Cards appear here...');
        count = 0;
    });

    console.log('Qry.js test loaded');
</script>
</body>
</html>